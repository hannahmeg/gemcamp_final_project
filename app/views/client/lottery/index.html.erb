<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://via.placeholder.com/1200x300" class="d-block w-100" alt="Banner Image 1">
    </div>
    <div class="carousel-item">
      <img src="https://via.placeholder.com/1200x300" class="d-block w-100" alt="Banner Image 2">
    </div>
    <div class="carousel-item">
      <img src="https://via.placeholder.com/1200x300" class="d-block w-100" alt="Banner Image 3">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 py-4">
  <div class="col-span-1 lg:col-span-4 border-b pb-4">
    <div class="font-bold mb-2">Announcement:</div>
    <button class="border px-4 py-2">Winners Feedback</button>

    <div class="font-bold mb-2">Categories:</div>
    <button class="border px-4 py-2 category-button" data-category-id="all">All</button>
    <% @categories.each do |category| %>
      <button class="border px-4 py-2 category-button" data-category-id="<%= category.id %>"><%= category.name %></button>
    <% end %>
  </div>

  <% @items.each do |item| %>
    <div class="space-y-4 item" data-item-category-ids="<%= item.category_ids.join(' ') %>">
      <div class="border p-20">
        <% if item.image&.present? %>
          <%= image_tag item.image.url, size: "100x100", style: "border-radius: 50%;" %>
        <% else %>
          <img src="https://placehold.co/100x100" alt="User Avatar" class="rounded-full mb-4"/>
        <% end %>
        <div class="font-bold mb-2">Item name: <%= item.name %></div>
        <%= link_to "View Details", client_lottery_path(item) %>
      </div>
    </div>
  <% end %>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const categoryButtons = document.querySelectorAll('.category-button');
        const items = document.querySelectorAll('.item');

        categoryButtons.forEach(button => {
            button.addEventListener('click', function () {
                const categoryId = this.getAttribute('data-category-id');

                items.forEach(item => {
                    const itemCategoryIds = item.getAttribute('data-item-category-ids').split(' ');

                    if (categoryId === 'all' || itemCategoryIds.includes(categoryId)) {
                        item.style.display = '';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });
    });
</script>